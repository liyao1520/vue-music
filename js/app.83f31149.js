(function(t){function e(e){for(var r,s,c=e[0],o=e[1],l=e[2],u=0,f=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},i={app:0},a=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-0cf71258":"5de5e14d","chunk-231dfb06":"a9c8744b","chunk-2431c447":"50e5d419","chunk-3276ac8f":"2137a859","chunk-347a71e0":"4ef99d03","chunk-375fe6c8":"83f10da5","chunk-42dbc96b":"890c97fa","chunk-60aef722":"4d35e118","chunk-62389070":"e2b02250","chunk-7435a503":"acefc7aa","chunk-7c78e6a5":"916c7264","chunk-8d2ce4ac":"2b3ad2f5","chunk-b088fff2":"e819a40a","chunk-cc829642":"1748a943","chunk-d3b82e9e":"a298c3c1"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-0cf71258":1,"chunk-231dfb06":1,"chunk-2431c447":1,"chunk-3276ac8f":1,"chunk-347a71e0":1,"chunk-375fe6c8":1,"chunk-42dbc96b":1,"chunk-60aef722":1,"chunk-62389070":1,"chunk-7435a503":1,"chunk-7c78e6a5":1,"chunk-8d2ce4ac":1,"chunk-b088fff2":1,"chunk-cc829642":1,"chunk-d3b82e9e":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-0cf71258":"b5e5ce6d","chunk-231dfb06":"0ee39d58","chunk-2431c447":"dbfc2ecd","chunk-3276ac8f":"c4092678","chunk-347a71e0":"93672ab1","chunk-375fe6c8":"4785e83f","chunk-42dbc96b":"05555e81","chunk-60aef722":"f7bedd4c","chunk-62389070":"b825ab75","chunk-7435a503":"33c93a7d","chunk-7c78e6a5":"30f549e0","chunk-8d2ce4ac":"29628783","chunk-b088fff2":"c87cda2d","chunk-cc829642":"e803bdcb","chunk-d3b82e9e":"31360e8d"}[t]+".css",i=o.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=a[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===i))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){l=f[c],u=l.getAttribute("data-href");if(u===r||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete s[t],d.parentNode.removeChild(d),n(a)},d.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){s[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t);var f=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",f.name="ChunkLoadError",f.type=r,f.request=s,n[1](f)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-music/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1:function(t,e){},"16d9":function(t,e,n){"use strict";n("c3fb")},"1b3f":function(t,e,n){t.exports=n.p+"img/player_bar.3b9b552f.png"},"2c3c":function(t,e,n){"use strict";n("403d")},3603:function(t,e,n){},"3e41":function(t,e,n){"use strict";n("71c6")},"403d":function(t,e,n){},4098:function(t,e,n){},"43d1":function(t,e,n){},4485:function(t,e,n){t.exports=n.p+"img/logo.064446a9.png"},4547:function(t,e,n){},"549b":function(t,e,n){"use strict";n("c955")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Layout")],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-header",[n("Header")],1),n("el-container",{staticStyle:{height:"calc(100% - 120px)","overflow-y":"auto"},attrs:{direction:"direction"}},[n("el-aside",{attrs:{width:"260px"}},[n("Aside")],1),n("el-main",{attrs:{id:"main"}},[n("Main")],1)],1),n("el-footer",{staticClass:"my-el-footer"},[n("Footer")],1),n("el-backtop",{attrs:{target:"#main",id:"back-top","visibility-height":600,bottom:80}})],1)},c=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[t.noticeIsShow?r("notice",{on:{close:function(e){t.noticeIsShow=!1}}},[r("v11")],1):t._e(),t._m(0),r("router-go",{staticClass:"header-router-go"}),r("div",{staticClass:"header-right"},[r("div",{staticClass:"notice"},[r("img",{attrs:{src:n("d099"),alt:""},on:{click:t.noticeClick}})]),r("el-popover",{attrs:{trigger:"focus",width:"300"}},[r("div",{staticClass:"hot-search"},[r("h1",{staticClass:"hot-search-title"},[t._v("热门搜索")]),r("ul",t._l(t.hotSearch,(function(e){return r("li",{key:e.first,on:{click:function(n){return t.hotSearchClick(e.first)}}},[t._v(" "+t._s(e.first)+" ")])})),0),r("h1",{staticClass:"hot-search-title"},[r("span",[t._v("历史搜索")]),r("span",{staticClass:"clear-search-history",on:{click:t.clearSearchHistory}},[t._v("删除历史")])]),r("ul",t._l(t.searchHistory,(function(e,n){return r("li",{key:n,on:{click:function(n){return t.hotSearchClick(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]),r("el-input",{staticClass:"search",attrs:{slot:"reference",placeholder:"搜索歌曲/歌单/MV/歌手","prefix-icon":"el-icon-search",size:"mini"},on:{focus:t.focus},nativeOn:{keyup:function(e){return t.keyup(e)}},slot:"reference",model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}})],1),r("div",{staticClass:"login"},[0===t.$store.state.userId?r("i",{staticClass:"el-icon-user",on:{click:t.userCLick2}}):r("img",{staticStyle:{width:"35px",height:"35px","border-radius":"50%",overflow:"hidden"},attrs:{src:t.$store.state.userList[0].creator.avatarUrl,alt:""},on:{click:t.userClick}})])],1)],1)},l=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("a",{attrs:{href:"/"}},[r("img",{attrs:{src:n("4485"),alt:""}})])])}],u=(n("a434"),n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"router-go"},[t.$store.state.songControlIsShow?t._e():n("i",{staticClass:"el-icon-arrow-left left",on:{click:t.backward}}),t.$store.state.songControlIsShow?t._e():n("i",{staticClass:"el-icon-arrow-right",on:{click:t.forward}}),t.$store.state.songControlIsShow?n("i",{staticClass:"iconfont",staticStyle:{"margin-left":"80px"},on:{click:t.close}},[t._v("")]):t._e()])}),f=[],d={name:"RouterGo",methods:{backward:function(){this.$router.go(-1)},forward:function(){this.$router.go(1)},close:function(){this.$store.commit("changeSongControlIsShow",!1)}}},h=d,m=(n("2c3c"),n("2877")),p=Object(m["a"])(h,u,f,!1,null,"8d15f534",null),v=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[n("div",{staticClass:"main"},[n("div",{staticClass:"close",on:{click:t.close}},[n("svg",{staticClass:"icon",attrs:{t:"1613442684954",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2145",width:"24",height:"24"}},[n("path",{attrs:{d:"M566.97558594 521.09667969L856.8828125 231.18945312c14.63378906-14.63378906 14.63378906-38.75976563 0-53.39355468l-1.58203125-1.58203125c-14.63378906-14.63378906-38.75976563-14.63378906-53.39355469 0L512 466.51660156 222.09277344 176.21386719c-14.63378906-14.63378906-38.75976563-14.63378906-53.39355469 0l-1.58203125 1.58203125c-15.02929688 14.63378906-15.02929688 38.75976563 0 53.39355469l289.90722656 289.90722656L167.1171875 811.00390625c-14.63378906 14.63378906-14.63378906 38.75976563 0 53.39355469l1.58203125 1.58203125c14.63378906 14.63378906 38.75976563 14.63378906 53.39355469 0L512 576.07226563 801.90722656 865.97949219c14.63378906 14.63378906 38.75976563 14.63378906 53.39355469 0l1.58203125-1.58203125c14.63378906-14.63378906 14.63378906-38.75976563 0-53.39355469L566.97558594 521.09667969z",fill:"#363F4D","p-id":"2146"}})])]),t._t("default")],2)])},y=[],C={name:"Notice",methods:{close:function(){this.$emit("close")}}},b=C,_=(n("16d9"),Object(m["a"])(b,g,y,!1,null,"2a1b5c86",null)),k=_.exports,$=n("8137"),S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("版本1.03")]),n("div",[n("p",{staticStyle:{"font-size":"15px","text-align":"center",color:"#d33a31"}},[t._v(" 基于Vue.js的网易云音乐pc版 ")])]),n("div",{staticClass:"notice-content",staticStyle:{"margin-top":"20px"}},[n("p",[t._v("1.新增外语歌歌词中文翻译")]),n("p",[t._v("2.新增歌词滚动")]),n("p",[t._v("3.新增热门搜索和搜索记录")]),n("p",[t._v("4.解决了音乐不能下载的问题")]),n("p",[t._v("5.新增歌曲开启评论功能")]),n("p",[t._v("6.解决了部分BUG")])]),n("div",{staticStyle:{position:"absolute",bottom:"12px",display:"flex",width:"320px","text-align":"center"}},[n("span",{staticStyle:{flex:"1"}},[t._v("本项目仅用于学习")]),n("span",{staticStyle:{flex:"1"}},[t._v("2021.02.22")])])])}],I={name:"V1.1"},x=I,O=(n("850d"),Object(m["a"])(x,S,w,!1,null,"3f746072",null)),L=O.exports,E={name:"Header",components:{RouterGo:v,Notice:k,V11:L},data:function(){return{searchContent:"",timer:null,noticeIsShow:!1,hotSearch:null,searchHistory:null}},methods:{focus:function(){var t=this;localStorage.getItem("search")?this.searchHistory=JSON.parse(localStorage.getItem("search")):this.searchHistory=[],this.hotSearch||Object($["f"])().then((function(e){t.hotSearch=e.result.hots}))},keyup:function(t){13===t.keyCode&&null!==this.searchContent&&""!==this.searchContent&&(this.searchHistoryAdd(this.searchContent),this.$router.push({path:"/search",query:{keywords:this.searchContent}}))},userClick:function(){this.$router.push("/user")},userCLick2:function(){this.$router.replace("/login")},noticeClick:function(){this.noticeIsShow=!0},hotSearchClick:function(t){this.$route.query.keywords!==t&&(this.searchHistoryAdd(t),this.$router.push({path:"/search",query:{keywords:t}}))},searchHistoryAdd:function(t){var e=localStorage.getItem("search");e=e?JSON.parse(localStorage.getItem("search")):[];for(var n=0;n<e.length;n++)e[n]===t&&e.splice(n,1);e.unshift(t),localStorage.setItem("search",JSON.stringify(e)),this.searchHistory=JSON.parse(localStorage.getItem("search"))},clearSearchHistory:function(){localStorage.removeItem("search"),this.searchHistory=[]}},mounted:function(){var t=localStorage.getItem("version");if("1.03"===t)return 0;this.noticeClick(),localStorage.setItem("version","1.03")}},j=E,T=(n("6564"),Object(m["a"])(j,o,l,!1,null,"24c3bf1e",null)),A=T.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[this.$store.state.currentInfo?n("div",{ref:"progress",staticClass:"progress"},[n("el-slider",{staticClass:"progress-content",attrs:{"show-tooltip":!1},on:{change:t.change},nativeOn:{mousedown:function(e){return t.mousedown(e)}},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1):t._e(),n("div",{staticClass:"left"},[n("footer-left")],1),n("div",{staticClass:"music-control"},[n("music-control",{ref:"control"})],1),n("div",{staticClass:"right"},[n("footer-right")],1)])},P=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-content"},[n("audio",{ref:"audio",attrs:{src:t.src,id:"audio"},on:{ended:t.ended}}),n("div",{staticClass:"prev",on:{click:t.prev}},[n("i",{staticClass:"iconfont"},[t._v("")])]),n("div",{staticClass:"play"},[t.isPlay?t._e():n("i",{staticClass:"iconfont",on:{click:t.toPlay}},[t._v("")]),t.isPlay?n("i",{staticClass:"iconfont",on:{click:t.toPause}},[t._v("")]):t._e()]),n("div",{staticClass:"next"},[n("i",{staticClass:"iconfont",on:{click:t.next}},[t._v("")])])])},N=[],B={name:"MusicControl",computed:{src:function(){return this.$store.state.src},isPlay:function(){return this.$store.state.isPlay}},watch:{src:function(t){this.$refs.audio.src=t;var e=this;this.$refs.audio.oncanplay=function(){this.play(),e.$store.commit("play"),e.$store.commit("changeDuration",e.$refs.audio.duration)}}},methods:{toPlay:function(){""!==this.$store.state.src&&(this.$store.commit("play"),this.$refs.audio.play())},toPause:function(){this.$store.commit("pause"),this.$refs.audio.pause()},ended:function(){this.$store.dispatch("ended")},next:function(){""!==this.$store.state.src&&this.$store.dispatch("prevAndNext",1)},prev:function(){""!==this.$store.state.src&&this.$store.dispatch("prevAndNext",0)}}},D=B,z=(n("fa7e"),Object(m["a"])(D,M,N,!1,null,"746e0d06",null)),H=z.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.info?n("div",{staticClass:"footer-left"},[n("div",{staticClass:"img-wrap",attrs:{id:"footer-img"},on:{click:t.imgClick}},[n("img",{attrs:{src:t.info.al?t.info.al.picUrl:t.info.picUrl,alt:""}}),n("div",{staticClass:"mask"}),t.$store.state.songControlIsShow?n("div",{staticClass:"close"},[n("i",{staticClass:"iconfont",on:{click:t.closeClick}},[t._v("")])]):n("div",{staticClass:"open"},[n("i",{staticClass:"iconfont ",on:{click:t.openClick}},[t._v("")])])]),n("div",{staticClass:"content"},[n("div",{staticClass:"song-name"},[t._v(t._s(t.info.name))]),n("div",{staticClass:"ar-name"},[t._v(" -"+t._s(t.info.arName?t.info.arName:t.info.song.artists[0].name)+" ")]),n("div",{staticClass:"time"},[t._v(" "+t._s(t.formatCurrentTime+" / "+t.formatDuration)+" ")])]),n("transition",{attrs:{"enter-active-class":"animate__animated animate__slideInUp","leave-active-class":"animate__animated animate__slideOutDown"}},[t.$store.state.songControlIsShow?n("song-control",{key:t.$store.state.src,staticClass:"t"}):t._e()],1)],1):t._e()},J=[],F=n("5530"),q=n("2f62"),G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"song-control"},[r("div",{staticClass:"open-comment"},[r("el-switch",{attrs:{"active-color":"#d33a31","inactive-color":"#cccccc","active-text":"开启评论"},on:{change:t.switchChange},model:{value:t.commentIsShow,callback:function(e){t.commentIsShow=e},expression:"commentIsShow"}},[t._v(" >> ")])],1),r("div",{staticClass:"fuzzy-img"},[r("img",{attrs:{src:t.info.al?t.info.al.picUrl:t.info.picUrl,alt:""}})]),r("transition",{attrs:{"leave-active-class":"animate__animated animate__zoomOutLeft","enter-active-class":"animate__animated animate__zoomInLeft"}},[t.commentIsShow?r("div",{staticClass:"comment"},[r("h1",{staticClass:"header"},[r("span",{staticClass:"title"},[t._v("热门评论")])]),r("b-scroll",{staticClass:"b-scroll2"},[r("ul",t._l(t.hotComments,(function(e){return r("li",{key:e.commentId,staticClass:"comment-li"},[r("div",{staticClass:"user-img"},[r("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),r("div",{staticClass:"content"},[r("div",{staticClass:"comment-info"},[r("span",{staticClass:"nickname"},[t._v(t._s(e.user.nickname+":"))]),r("span",[t._v(t._s(e.content))])]),r("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.time)))])])])})),0)])],1):t._e()]),r("div",{staticClass:"music"},[r("div",{staticClass:"left"},[r("div",{staticClass:"left-content"},[r("div",{staticClass:"img-wrap"},[r("img",{attrs:{src:n("c653"),alt:""}}),r("div",{staticClass:"picUrl"},[r("img",{ref:"picUrl",attrs:{src:t.info.al?t.info.al.picUrl:t.info.picUrl}})])]),r("div",{ref:"playerBar",staticClass:"player-bar"},[r("img",{attrs:{src:n("1b3f")}})])])]),r("div",{staticClass:"right"},[r("div",{staticClass:"song-name"},[t._v(" "+t._s(t.info.name)+" "),t.info.mv?r("i",{staticClass:"iconfont",on:{click:function(e){return t.mvClick(t.info.mv)}}},[t._v("")]):t._e()]),r("div",{staticClass:"singer-name"},[t._v("歌手: "+t._s(t.info.arName))]),r("div",{staticClass:"lyric-wrap"},[t.nolyric?r("h1",{staticStyle:{"margin-top":"100px","font-size":"20px"}},[t._v(" 暂无歌词 ")]):r("b-scroll",{ref:"bscroll",staticClass:"b-scroll",attrs:{probeType:2},on:{scrollEnd:t.scrollEnd}},[r("ul",{staticStyle:{"min-width":"340px"}},t._l(t.lyric,(function(e,n){return r("li",{key:n,class:{"lyric-active":String(t.rightTime)===String(n)},attrs:{id:t._f("lyricNum")(n)}},[r("span",[t._v(t._s(e))]),t.tlyric[n]?r("span",[t._v(t._s(t.tlyric[n]))]):t._e()])})),0)])],1)])])],1)},Q=[],V=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"wrapper"},[n("div",{staticClass:"content"},[t._t("default")],2)])}),Y=[],K=(n("a9e3"),n("f40f")),Z={data:function(){return{scroll:null}},props:{probeType:{type:Number,default:0},pullUpLoad:{type:Boolean,default:!1}},methods:{scrollTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;this.scroll.scrollTo(t,e,n)},finishPullUp:function(){this.scroll.finishPullUp()},scrollToElement:function(t,e,n,r,s){this.scroll.scrollToElement(t,e,n,r,s)}},mounted:function(){var t=this;this.scroll=new K["a"](this.$refs.wrapper,{observeDOM:!0,click:!0,probeType:this.probeType,pullUpLoad:this.pullUpLoad,useTransition:!0,mouseWheel:{speed:15,invert:!1,easeTime:300}}),2!==this.probeType&&3!==this.probeType||this.scroll.on("scroll",(function(e){t.$emit("BScroll",e)})),this.pullUpLoad&&this.scroll.on("pullingUp",(function(){t.$emit("pullingUp")})),this.scroll.on("scrollEnd",(function(){t.$emit("scrollEnd")}))}},X=Z,W=Object(m["a"])(X,V,Y,!1,null,"6320a46a",null),tt=W.exports,et=n("90b9"),nt={name:"SongControl",data:function(){return{lyric:null,tlyric:null,rightTime:"",nolyric:!1,stopScroll:!1,hotComments:[],commentIsShow:!1}},components:{BScroll:tt},computed:Object(F["a"])(Object(F["a"])({},Object(q["b"])(["formatCurrentTime"])),{},{info:function(){return this.$store.state.currentInfo},isPlay:function(){return this.$store.state.isPlay}}),watch:{isPlay:function(t){t?(this.$refs.picUrl.classList.remove("paused"),this.$refs.picUrl.classList.add("running"),this.$refs.playerBar.classList.add("player-bar-playing")):(this.$refs.picUrl.classList.remove("running"),this.$refs.picUrl.classList.add("paused"),this.$refs.playerBar.classList.remove("player-bar-playing"))},rightTime:function(t){if(!this.stopScroll){var e="#lyric"+t.replace(":","-"),n=document.querySelector(e);this.$refs.bscroll.scrollToElement(n,500,0,-170)}}},mounted:function(){this.isPlay?(this.$refs.picUrl.classList.add("running"),this.$refs.playerBar.classList.add("player-bar-playing")):(this.$refs.picUrl.classList.add("paused"),this.$refs.playerBar.classList.remove("player-bar-playing"))},created:function(){var t=this;if(localStorage.getItem("commentType")){var e=parseInt(localStorage.getItem("commentType"));this.commentIsShow=!!e}if(this.$store.state.currentInfo){var n=this.$store.state.currentInfo.id;Object($["g"])(n).then((function(e){if(e.nolyric)t.nolyric=!0;else{var n=e.lrc.lyric,r=e.tlyric.lyric,s={},i={},a=/\[(.*?)](.*)/g;n.replace(a,(function(t,e,n){e=e.slice(0,5),s[e]=n})),r.replace(a,(function(t,e,n){e=e.slice(0,5),i[e]=n})),t.lyric=s,t.tlyric=i;var c=t;document.getElementById("audio").addEventListener("timeupdate",(function(){var t=c.format(this.currentTime);t in c.lyric&&(c.rightTime=t)}))}})),Object($["e"])(n,0).then((function(e){t.hotComments=e.hotComments}))}},methods:{mvClick:function(t){this.$store.commit("changeSongControlIsShow",!1),this.$store.commit("pause"),document.getElementById("audio").pause(),this.$router.push("/mv/"+t)},format:function(t){var e=parseInt(t/60),n=parseInt(t-60*e);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n},scrollEnd:function(){var t=this;this.stopScroll=!0,setTimeout((function(){t.stopScroll=!1}),2e3)},switchChange:function(t){var e;e=t?1:0,localStorage.setItem("commentType",e)}},filters:{lyricNum:function(t){return"lyric"+t.replace(":","-")},formatDate:function(t){return Object(et["b"])(new Date(t),"yyyy-MM-dd  hh:mm:ss")}}},rt=nt,st=(n("9db4"),Object(m["a"])(rt,G,Q,!1,null,"54386aec",null)),it=st.exports,at={name:"FooterLeft",components:{SongControl:it},computed:Object(F["a"])({info:function(){return this.$store.state.currentInfo}},Object(q["b"])(["formatCurrentTime","formatDuration"])),data:function(){return{isOpen:!1}},methods:{openClick:function(){this.$store.commit("changeSongControlIsShow",!0)},closeClick:function(){this.$store.commit("changeSongControlIsShow",!1)},imgClick:function(){var t=this.$store.state.songControlIsShow;t=!!t,this.$store.commit("changeSongControlIsShow",t)}}},ct=at,ot=(n("549b"),Object(m["a"])(ct,R,J,!1,null,"2a356616",null)),lt=ot.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-right"},[n("div",{staticClass:"slider"},[n("el-slider",{staticClass:"slider-content",on:{input:t.change},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1),t._m(0),n("div",{staticClass:"list"},[n("i",{staticClass:"iconfont",style:{color:t.isShow?"#d33a31":"#333333"},on:{click:t.listClick}},[t._v("")])]),n("div",{staticClass:"order"},[1===t.order?n("i",{staticClass:"iconfont",on:{click:function(e){return t.orderClick(1)}}},[t._v("")]):t._e(),2===t.order?n("i",{staticClass:"iconfont",on:{click:function(e){return t.orderClick(2)}}},[t._v("")]):t._e(),3===t.order?n("i",{staticClass:"iconfont",on:{click:function(e){return t.orderClick(3)}}},[t._v("")]):t._e()]),n("div",{staticClass:"msg"},[t._v(t._s(t.orderMsg))]),n("transition",{attrs:{"enter-active-class":"animate__animated animate__slideInRight","leave-active-class":"animate__animated animate__slideOutRight"}},[t.isShow?n("div",{staticClass:"playlist"},[n("b-scroll",{staticClass:"BScroll"},[n("ul",{staticClass:"currentPlayList"},[n("h1",[t._v("长按上滑显示更多"),n("i",{staticClass:"iconfont"},[t._v("")])]),t._l(t.$store.state.currentList,(function(e,r){return n("li",{key:e.id,staticClass:"item",style:{color:r===t.$store.state.currentIndex?"#d33a31":"#333333"},on:{click:function(n){return t.itemClick(r,e.id,e)}}},[n("div",{staticClass:"index"},[n("span",{directives:[{name:"show",rawName:"v-show",value:r!==t.$store.state.currentIndex,expression:"index !== $store.state.currentIndex"}]},[t._v(t._s(r+1))]),n("i",{directives:[{name:"show",rawName:"v-show",value:r===t.$store.state.currentIndex,expression:"index === $store.state.currentIndex"}],staticClass:"iconfont",staticStyle:{color:"#d33a31","font-size":"20px",height:"20px",width:"20px"}},[t._v("")])]),n("span",{staticClass:"name"},[t._v(t._s(e.name))]),n("span",{staticClass:"ar-name"},[t._v(t._s(e.arName))]),n("span",{staticClass:"dt"},[t._v(t._s(e.dt))])])}))],2)])],1):t._e()])],1)},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"volume"},[n("i",{staticClass:"iconfont"},[t._v("")])])}],dt={name:"FooterRight",components:{BScroll:tt},data:function(){return{volume:100,isShow:!1,order:1}},methods:{change:function(t){document.getElementById("audio").volume=t/100},listClick:function(){this.isShow=!this.isShow},orderClick:function(t){3===t?this.order=1:this.order++,this.$store.commit("changePlayOrder",this.order),localStorage.setItem("order",this.order)},itemClick:function(t,e,n){var r=this;this.$store.commit("changeCurrentInfo",n),this.$store.commit("changeCurrentIndex",t),Object($["s"])(e).then((function(e){r.currentIndex=t,r.$store.commit("changeUrl",e.data[0].url)}))}},computed:{playlist:function(){return this.$store.state.currentList},orderMsg:function(){var t="";switch(this.order){case 1:t="顺序播放";break;case 2:t="随机播放";break;case 3:t="单曲循环";break}return t}},created:function(){var t=localStorage.getItem("order");t?(t=parseInt(t),this.order=t,this.$store.commit("changePlayOrder",this.order)):(localStorage.setItem("order","1"),this.order=1,this.$store.commit("changePlayOrder",this.order))}},ht=dt,mt=(n("aec0"),Object(m["a"])(ht,ut,ft,!1,null,"419573fe",null)),pt=mt.exports,vt={name:"Footer",components:{MusicControl:H,FooterLeft:lt,FooterRight:pt},data:function(){return{progress:0,event:null}},methods:{change:function(t){this.$refs.control.$refs.audio.currentTime=t/100*this.$refs.control.$refs.audio.duration,this.ontimeupdate()},ontimeupdate:function(){var t=this;this.event=this.$refs.control.$refs.audio.ontimeupdate=function(){t.progress=t.$refs.control.$refs.audio.currentTime/t.$refs.control.$refs.audio.duration*100,t.$store.commit("changeCurrentTime",t.$refs.control.$refs.audio.currentTime)}},mousedown:function(){this.$refs.control.$refs.audio.ontimeupdate=null}},mounted:function(){this.ontimeupdate()}},gt=vt,yt=(n("74d0"),Object(m["a"])(gt,U,P,!1,null,"8376c950",null)),Ct=yt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[n("ul",[n("li",{class:{red:"/user"===t.$route.path},on:{click:t.userClick}},[n("i",{staticClass:"el-icon-user-solid user"}),t._v(" "+t._s(t.loginInfo)+" ")]),n("router-link",{attrs:{tag:"li",to:"/recommend"}},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("推荐")]),n("router-link",{attrs:{tag:"li",to:"/toplist"}},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("排行榜")]),n("router-link",{attrs:{tag:"li",to:"/playlists"}},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("歌单")]),n("router-link",{attrs:{tag:"li",to:"/singer"}},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("歌手")]),n("router-link",{attrs:{tag:"li",to:"/mv"}},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("MV")])],1)])},_t=[],kt={name:"Aside",methods:{userClick:function(){0===this.$store.state.userId?this.$router.replace("/login"):this.$router.push("/user")}},computed:{loginInfo:function(){var t=null;return t=0===this.$store.state.userId?"未登录":0===this.$store.state.userList.length?"未知用户":this.$store.state.userList[0].creator.nickname,t}}},$t=kt,St=(n("eb96"),Object(m["a"])($t,bt,_t,!1,null,"638f21e1",null)),wt=St.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view",{key:t.$route.name+t.$route.params.id})],1)},xt=[],Ot={name:"Main"},Lt=Ot,Et=Object(m["a"])(Lt,It,xt,!1,null,"1043cefe",null),jt=Et.exports,Tt={name:"index",components:{Header:A,Footer:Ct,Aside:wt,Main:jt},created:function(){var t=this;if(localStorage.getItem("uid")){var e=parseInt(localStorage.getItem("uid"));Object($["u"])(e).then((function(n){200===n.code&&(t.$store.commit("changeUserList",n.playlist),t.$store.commit("changeUserId",e))}))}}},At=Tt,Ut=(n("3e41"),Object(m["a"])(At,a,c,!1,null,"92e46602",null)),Pt=Ut.exports,Mt={name:"app",components:{Layout:Pt}},Nt=Mt,Bt=(n("034f"),Object(m["a"])(Nt,s,i,!1,null,null,null)),Dt=Bt.exports,zt=(n("d3b7"),n("8c4f")),Ht=zt["a"].prototype.push;zt["a"].prototype.push=function(t){return Ht.call(this,t).catch((function(t){return t}))};var Rt=function(){return n.e("chunk-2431c447").then(n.bind(null,"72c9"))},Jt=function(){return n.e("chunk-b088fff2").then(n.bind(null,"72c5"))},Ft=function(){return n.e("chunk-7435a503").then(n.bind(null,"794b"))},qt=function(){return n.e("chunk-42dbc96b").then(n.bind(null,"9cd2"))},Gt=function(){return n.e("chunk-0cf71258").then(n.bind(null,"3fdb"))},Qt=function(){return n.e("chunk-7c78e6a5").then(n.bind(null,"8156"))},Vt=function(){return n.e("chunk-60aef722").then(n.bind(null,"84a8"))},Yt=function(){return n.e("chunk-347a71e0").then(n.bind(null,"53cb"))},Kt=function(){return n.e("chunk-375fe6c8").then(n.bind(null,"ecb1"))},Zt=function(){return n.e("chunk-62389070").then(n.bind(null,"ea00"))},Xt=function(){return n.e("chunk-8d2ce4ac").then(n.bind(null,"bb8f"))},Wt=function(){return n.e("chunk-d3b82e9e").then(n.bind(null,"2b27"))},te=function(){return n.e("chunk-cc829642").then(n.bind(null,"b125"))},ee=function(){return n.e("chunk-3276ac8f").then(n.bind(null,"ede4"))},ne=function(){return n.e("chunk-231dfb06").then(n.bind(null,"9419"))};r["default"].use(zt["a"]);var re=[{path:"/",redirect:"/recommend"},{path:"/recommend",component:Rt},{path:"/playlist/:id",component:Jt},{path:"/search",component:Ft,children:[{path:"/",redirect:"songs"},{path:"songs",component:Gt},{path:"playlist",component:qt},{path:"mv",component:Qt},{path:"singer",component:Vt}]},{path:"/toplist",component:Yt},{path:"/playlists",component:Kt},{path:"/mv",component:Zt},{path:"/mv/:id",component:Xt},{path:"/singer",component:Wt},{path:"/singer/:id",component:te},{path:"/login",component:ee},{path:"/user",component:ne}],se=new zt["a"]({mode:"history",base:"/vue-music",routes:re}),ie=se,ae={pause:function(t){t.isPlay=!1},play:function(t){t.isPlay=!0},changeUrl:function(t,e){t.src=e},changeCurrentInfo:function(t,e){t.currentInfo=e},changeDuration:function(t,e){t.duration=e},changeCurrentTime:function(t,e){t.currentTime=e},changeCurrentList:function(t,e){t.currentList=e},changeCurrentIndex:function(t,e){t.currentIndex=e},changePlayOrder:function(t,e){t.playOrder=e},changeSongControlIsShow:function(t,e){t.songControlIsShow=e},changeUserId:function(t,e){t.userId=e},changeUserList:function(t,e){t.userList=e}},ce={ended:function(t){if(1===t.state.playOrder){var e,n=t.state.currentIndex;n!==t.state.currentList.length-1?(e=t.state.currentList[n+1],t.commit("changeCurrentInfo",e),Object($["s"])(e.id).then((function(e){t.commit("changeUrl",e.data[0].url),t.commit("changeCurrentIndex",n+1)}))):(e=t.state.currentList[0],t.commit("changeCurrentInfo",e),Object($["s"])(e.id).then((function(e){t.commit("changeUrl",e.data[0].url),t.commit("changeCurrentIndex",0)})))}else if(2===t.state.playOrder){var r=Math.floor(Math.random()*t.state.currentList.length),s=t.state.currentList[r];t.commit("changeCurrentInfo",s),Object($["s"])(s.id).then((function(e){t.commit("changeUrl",e.data[0].url),t.commit("changeCurrentIndex",r)}))}else 3===t.state.playOrder&&document.getElementById("audio").play()},prevAndNext:function(t,e){var n=t.state.currentIndex,r=null;if(0===e){if(0===t.state.currentIndex)return;r=t.state.currentList[n-1],n-=1}else 1===e&&(t.state.currentIndex===t.state.currentList.length-1?(r=t.state.currentList[0],n=0):(r=t.state.currentList[n+1],n+=1));t.commit("changeCurrentInfo",r),Object($["s"])(r.id).then((function(e){t.commit("changeUrl",e.data[0].url),t.commit("changeCurrentIndex",n)}))}},oe={formatDuration:function(t){return le(t.duration)},formatCurrentTime:function(t){return le(t.currentTime)}};function le(t){var e=parseInt(t/60),n=parseInt(t-60*e);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n}r["default"].use(q["a"]);var ue=new q["a"].Store({state:{isPlay:!1,src:"",currentInfo:null,duration:0,currentTime:0,currentList:null,currentIndex:0,playOrder:1,songControlIsShow:!1,userId:0,userList:null},mutations:ae,actions:ce,getters:oe}),fe=(n("e960"),n("450d"),n("b35b")),de=n.n(fe),he=(n("06f1"),n("6ac9")),me=n.n(he),pe=(n("672e"),n("101e")),ve=n.n(pe),ge=(n("be4f"),n("896a")),ye=n.n(ge),Ce=(n("b5c2"),n("20cf")),be=n.n(Ce),_e=(n("279e"),n("7d94")),ke=n.n(_e),$e=(n("38a0"),n("ad41")),Se=n.n($e),we=(n("5466"),n("ecdf")),Ie=n.n(we),xe=(n("186a"),n("301f")),Oe=n.n(xe),Le=(n("10cb"),n("f3ad")),Ee=n.n(Le),je=(n("aaa5"),n("a578")),Te=n.n(je),Ae=(n("acb6"),n("c673")),Ue=n.n(Ae),Pe=(n("96dc"),n("9cea")),Me=n.n(Pe),Ne=(n("bdc7"),n("aa2f")),Be=n.n(Ne),De=(n("de31"),n("c69e")),ze=n.n(De),He=(n("a769"),n("5cc3")),Re=n.n(He),Je=(n("a673"),n("7b31")),Fe=n.n(Je),qe=(n("adec"),n("3d2d")),Ge=n.n(qe);r["default"].use(Ge.a),r["default"].use(Fe.a),r["default"].use(Re.a),r["default"].use(ze.a),r["default"].use(Be.a),r["default"].use(Me.a),r["default"].use(Be.a),r["default"].use(Ue.a),r["default"].use(Te.a),r["default"].use(Ee.a),r["default"].use(Oe.a),r["default"].use(Ie.a),r["default"].use(Se.a),r["default"].use(ke.a),r["default"].use(be.a),r["default"].use(ye.a),r["default"].use(ve.a),r["default"].use(me.a),r["default"].use(de.a);var Qe=n("77ed"),Ve=n.n(Qe),Ye=n("d6d3"),Ke=n.n(Ye);n("fda2");r["default"].use(Ve.a),r["default"].use(Ke.a),r["default"].config.productionTip=!1,new r["default"]({router:ie,store:ue,render:function(t){return t(Dt)}}).$mount("#app")},6564:function(t,e,n){"use strict";n("4547")},"71c6":function(t,e,n){},"74d0":function(t,e,n){"use strict";n("fc6aa")},8137:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"m",(function(){return o})),n.d(e,"l",(function(){return l})),n.d(e,"r",(function(){return u})),n.d(e,"s",(function(){return f})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return h})),n.d(e,"n",(function(){return m})),n.d(e,"t",(function(){return p})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return g})),n.d(e,"c",(function(){return y})),n.d(e,"h",(function(){return C})),n.d(e,"q",(function(){return b})),n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return k})),n.d(e,"g",(function(){return $})),n.d(e,"u",(function(){return S})),n.d(e,"f",(function(){return w})),n.d(e,"e",(function(){return I}));var r=n("bc3a"),s=n.n(r);function i(t){var e=s.a.create({baseURL:"http://123.207.32.32:9001",timeout:6e3});return e.interceptors.request.use((function(t){return t}),(function(t){console.log(t)})),e.interceptors.response.use((function(t){return t.data}),(function(t){console.log(t)})),e(t)}function a(t){return i({url:"/banner",params:{type:t}})}function c(t){return i({url:"/personalized",params:{limit:t}})}function o(t){return i({url:"/personalized/newsong",params:{limit:t}})}function l(){return i({url:"/personalized/mv"})}function u(t){return i({url:"/song/detail",params:{ids:t}})}function f(t){return i({url:"/song/url",params:{id:t}})}function d(t){return i({url:"/playlist/detail",params:{id:t}})}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i({url:"/search",params:{keywords:t,type:e}})}function m(){return i({url:"/playlist/hot"})}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return i({url:"/top/playlist",params:{cat:t,limit:n,offset:e}})}function v(t,e,n,r,s){return i({url:"/mv/all",params:{area:t,type:e,order:n,limit:r,offset:s}})}function g(t){return i({url:"/mv/detail",params:{mvid:t}})}function y(t){return i({url:"/artists",params:{id:t}})}function C(t){return i({url:"/mv/url",params:{id:t}})}function b(t){return i({url:"/simi/mv",params:{mvid:t}})}function _(t){return i({url:t,responseType:"blob",withCredentials:!1})}function k(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;return i({url:"/artist/list",params:{initial:t,type:e,area:n,limit:r}})}function $(t){return i({url:"/lyric",params:{id:t}})}function S(t){return i({url:"/user/playlist",params:{uid:t}})}function w(){return i({url:"/search/hot"})}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:35;return i({url:"/comment/hot",params:{id:t,type:e,limit:n}})}},"850d":function(t,e,n){"use strict";n("4098")},"85ec":function(t,e,n){},"90b9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));n("99af"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("5319");var r=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"animate__";return new Promise((function(s){var i="".concat(r).concat(e),a=t;function c(t){t.stopPropagation(),a.classList.remove("".concat(r,"animated"),i),"none"===n&&(a.style.display=n),"hidden"===n&&(a.style.visibility=n),s("Animation ended")}"block"===n&&(a.style.display=n),"visible"===n&&(a.style.visibility=n),a.classList.add("".concat(r,"animated"),i),a.addEventListener("animationend",c,{once:!0})}))};function s(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in e||(e="yyyy-MM-dd hh:mm:ss"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}},"9db4":function(t,e,n){"use strict";n("3603")},aec0:function(t,e,n){"use strict";n("d943")},c3fb:function(t,e,n){},c653:function(t,e,n){t.exports=n.p+"img/disc.e89e0c3e.png"},c955:function(t,e,n){},d099:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAA+UlEQVRIS+3VzUkEQRDF8d+CgZiJukF4FDEKPbmLBzEDQYzAowGoCXgzAePwi4Jpacad2epBVg/b0Jfi9ft3vZ7umdnAmG2AYQpkgZjp0QKZ4xa7eMERnjOkDGQHNzjGHQ472AmWuMD7GGwdJIzP8YHTDlL89nGNN5zhfgg0BIlIwjwgVx1gyCPOJ7QBvMRrX1ggRZiJuEUTcS5qyF6XcYvJmDa6e1oFOfgtAh62kJY0/09ccdliN/VdKrX4QB6rtj7Rr6U6CcOY9WNYagGoIaHp11KQlvxXabeQpgT/Nq6mrSbEPx7IxJpJku+nftLq7KJ1v9+sz6juCyWpShpvYrj5AAAAAElFTkSuQmCC"},d943:function(t,e,n){},eb96:function(t,e,n){"use strict";n("43d1")},f038:function(t,e,n){},fa7e:function(t,e,n){"use strict";n("f038")},fc6aa:function(t,e,n){}});
//# sourceMappingURL=app.83f31149.js.map